$(function() {
	Utility.init()
}), window.Utility = {
	isApp: null,
	init: function() {
		this.isMobile = $("body").hasClass("mobile"), this.submitActions()
	},
	submitActions: function() {
		$("form").on("click", '.btn:not([rel="external"])', function(t) {
			$(t.target).button("loading").contents().filter(function() {
				return 3 == this.nodeType
			}).remove()
		}), this.isMobile && $("form").on("touchend", ".btn.btn-primary", function(
			t) {
			t.preventDefault(), t.stopPropagation();
			var i, n, e = t.originalEvent.changedTouches,
				o = $(t.target).offset();
			e && e[0] && (i = e[0].pageX, n = e[0].pageY);
			var r = o.top,
				a = r + $(t.target).outerHeight(),
				s = o.left,
				l = s + $(t.target).outerWidth();
			i > s && l > i && n > r && a > n && $(t.target).trigger("click")
		})
	}
};