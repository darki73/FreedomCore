$(function() {
	passwordForm.init(), InfoPanel.init(), setAutoFocus.init()
});
var setAutoFocus = {
		accountName: $("#accountName"),
		password: $("#password"),
		body: $("body"),
		init: function() {
			this.setFocus()
		},
		setFocus: function() {
			this.body.hasClass("mobile") || (this.accountName.val() ? this.password.focus() :
				this.accountName.focus())
		}
	},
	passwordForm = {
		init: function() {
			var e = $("#password-form");
			this.setCaptcha(e)
		},
		setCaptcha: function(e) {
			e.hasClass("captcha-required") && $("#captcha-anchor").click(function(e) {
				e.preventDefault(), $("#sec-string").attr("src", "/account/captcha.jpg?" +
					(new Date).getTime())
			})
		}
	},
	InfoPanel = {
		cssHide: "hide",
		cssShow: "show",
		cssGrid: "info-active",
		leftPanel: "#info-wrapper",
		rightPanel: "#login-wrapper",
		phoneInfoToggle: "#info-phone-toggle",
		phoneInfoClose: "#info-phone-close",
		title: null,
		body: null,
		enabled: null,
		domReady: !1,
		init: function() {
			this.domReady = !0, this.$leftPanel = $(this.leftPanel), this.$rightPanel =
				$(this.rightPanel), this.$mobileToggle = $(this.phoneInfoToggle), this.$mobileClose =
				$(this.phoneInfoClose), this.enabled && this.toggle(this.enabled, this.title,
					this.body), this.enableMobile()
		},
		toggle: function(e, t, s) {
			this.title = t, this.body = s, this.enabled = e;
			var i = "InfoPanel.toggle called.";
			return this.domReady && (e ? (this.$leftPanel.find(".info-title").html(t),
				this.$leftPanel.find(".info-body").html(s), this.$mobileToggle.html(t),
				this.$leftPanel.removeClass(this.cssHide), this.$rightPanel.addClass(
					this.cssGrid), this.$mobileToggle.removeClass(this.cssHide)) : (this.$leftPanel
				.addClass(this.cssHide), this.$rightPanel.removeClass(this.cssGrid),
				this.$mobileToggle.addClass(this.cssHide)), i += "Dom ready."), i
		},
		enableMobile: function() {
			var e = this,
				t = function(e, t, s) {
					e.stopPropagation(), e.preventDefault(), t.removeClass(InfoPanel.cssHide),
						s.addClass(InfoPanel.cssHide)
				};
			this.$mobileToggle.on("click", function(s) {
				t(s, e.$leftPanel, e.$rightPanel)
			}), this.$mobileClose.on("click", function(s) {
				t(s, e.$rightPanel, e.$leftPanel)
			})
		}
	};